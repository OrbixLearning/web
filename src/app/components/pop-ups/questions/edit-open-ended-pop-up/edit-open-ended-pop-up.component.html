<o-pop-up-header [title]="(isEdit ? 'Editar' : 'Adicionar') + ' questão aberta'" />

<form class="question-popup" [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div class="qp-content">

        <section class="qp-body">
            @if (hasIndex) {
            <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-fixed">
                <mat-label>Número</mat-label>
                <input matInput type="number" formControlName="index" />
            </mat-form-field>
            }

            <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-grow">
                <mat-label>Enunciado</mat-label>
                <textarea matInput formControlName="statement" rows="4" cdkTextareaAutosize></textarea>
            </mat-form-field>

            <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-full">
                <mat-label>Resposta esperada</mat-label>
                <textarea matInput formControlName="answer" rows="4" cdkTextareaAutosize></textarea>
            </mat-form-field>
        </section>

        @if (hasSyllabus) {
        <section class="qp-syllabus">
            <h4>Tópicos contemplados na questão</h4>
            <o-syllabus [syllabus]="ctx.classroom?.syllabus" mode="select" (syllabusMarked)="markSyllabus($event)"
                [presets]="ctx.classroom?.presets" [preMarkedSyllabus]="data.syllabus" />
        </section>
        }

    </div>

    <o-pop-up-buttons [confirmButton]="isEdit ? 'Editar' : 'Adicionar'" [disable]="form.invalid" type="submit" />
</form>