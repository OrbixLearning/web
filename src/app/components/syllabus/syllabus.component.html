<div class="syllabus">
    @if (presets?.length) {
    <div class="toolbar">
        @for (preset of presets; track preset.name) {
        <o-text-button (onclick)="loadPreset(preset)">{{ preset.name }}</o-text-button>
        }
        @if (mode === 'filter' || mode === 'select') {
        <o-text-button (onclick)="clearSelection()">Limpar seleção</o-text-button>
        }
    </div>
    }

    @if (syllabus?.length) {
    <p-tree [value]="syllabusComponentTree" [styleClass]="'syllabus-tree mode-' + mode" [selectionMode]="selectionMode"
        [(selection)]="selection" (selectionChange)="selectionChange($event)">
        <ng-template pTemplate="edit" let-node>
            <div class="node">
                <div class="node-main">
                    <mat-icon class="node-icon">{{ node.leaf ? 'description' : 'folder' }}</mat-icon>
                    <span class="node-label">{{ node.label }}</span>
                </div>
                <div class="node-actions">
                    <button mat-icon-button (click)="$event.stopPropagation(); editSyllabus.emit(node.data)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-icon-button (click)="$event.stopPropagation(); deleteSyllabus.emit(node.data)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
            </div>
        </ng-template>
    </p-tree>
    } @else {
    <p>Ementa não definida</p>
    }
</div>